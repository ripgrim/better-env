#!/usr/bin/env bun
import{createCliRenderer as b,TextRenderable as o,RGBA as t,GroupRenderable as d,renderFontToFrameBuffer as I,FrameBufferRenderable as g}from"@opentui/core";var c=null,a=null,f=null,u=[];var y=[{id:"1",name:"my-api",envCount:12},{id:"2",name:"frontend-app",envCount:8},{id:"3",name:"database-service",envCount:15}],T=[{key:"DATABASE_URL",value:"postgresql://...",environment:"production"},{key:"API_KEY",value:"sk_...",environment:"production"},{key:"DEBUG",value:"false",environment:"production"}];function l(){f&&(u.forEach(n=>{f.remove(n.id)}),u=[])}function s(n){f&&(f.add(n),u.push(n))}function m(){l();let n=new o("title",{content:"Better Env CLI - Main Menu",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n),["1. View Projects","2. View Environment Variables","3. Create New Project","4. Pull Environment Variables","5. Push Environment Variables","q. Quit"].forEach((e,r)=>{let p=new o(`option-${r}`,{content:e,positionType:"absolute",position:{left:2,top:16+r},fg:t.fromInts(200,200,200,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(p)})}function v(){l();let n=new o("title",{content:"Your Projects",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n),y.forEach((e,r)=>{let p=new o(`project-${r}`,{content:`${e.name} (${e.envCount} env vars)`,positionType:"absolute",position:{left:2,top:16+r},fg:t.fromInts(100,200,100,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(p)});let i=new o("back",{content:"Press any key to return to main menu",positionType:"absolute",position:{left:2,top:20},fg:t.fromInts(150,150,150,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(i)}function w(){l();let n=new o("title",{content:"Environment Variables (Production)",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n),T.forEach((e,r)=>{let p=new o(`env-${r}`,{content:`${e.key}=${e.value}`,positionType:"absolute",position:{left:2,top:16+r},fg:t.fromInts(200,200,100,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(p)});let i=new o("back",{content:"Press any key to return to main menu",positionType:"absolute",position:{left:2,top:20},fg:t.fromInts(150,150,150,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(i)}function x(){l();let n=new o("title",{content:"Create New Project",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n);let i=new o("status",{content:"Project 'new-service' created successfully!",positionType:"absolute",position:{left:2,top:16},fg:t.fromInts(100,255,100,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(i);let e=new o("back",{content:"Press any key to return to main menu",positionType:"absolute",position:{left:2,top:18},fg:t.fromInts(150,150,150,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(e)}function k(){l();let n=new o("title",{content:"Pull Environment Variables",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n);let i=new o("status",{content:"\u2713 Pulled 15 environment variables from 'my-api'",positionType:"absolute",position:{left:2,top:16},fg:t.fromInts(100,255,100,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(i);let e=new o("back",{content:"Press any key to return to main menu",positionType:"absolute",position:{left:2,top:18},fg:t.fromInts(150,150,150,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(e)}function E(){l();let n=new o("title",{content:"Push Environment Variables",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(255,255,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(n);let i=new o("status",{content:"\u2713 Pushed 8 environment variables to 'frontend-app'",positionType:"absolute",position:{left:2,top:16},fg:t.fromInts(100,255,100,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(i);let e=new o("back",{content:"Press any key to return to main menu",positionType:"absolute",position:{left:2,top:18},fg:t.fromInts(150,150,150,255),bg:t.fromInts(0,0,40,255),zIndex:20});s(e)}async function P(){a=await b(),a.start(),a.setBackgroundColor("#000028"),c=new g("ascii-art",{width:a.terminalWidth,height:20,positionType:"absolute",position:{left:0,top:2},zIndex:20}),f=new d("main-container",{positionType:"absolute",position:{left:0,top:0},zIndex:15,visible:!0}),a.root.add(f),a.root.add(c),I(c.frameBuffer,{text:"BETTER ENV",x:5,y:1,fg:t.fromInts(255,100,100,255),bg:t.fromInts(0,0,40,255),font:"block"});let n=new o("subtitle",{content:"Better Env CLI - Press any key to continue",positionType:"absolute",position:{left:2,top:12},fg:t.fromInts(100,100,255,255),bg:t.fromInts(0,0,40,255),zIndex:20});a.root.add(n),m(),process.stdin.listenerCount("data")||(process.stdin.setRawMode(!0),process.stdin.resume(),process.stdin.setEncoding("utf8")),process.stdin.on("data",i=>{let e=i.toString();(e==="q"||e==="")&&process.exit(0),e==="1"&&v(),e==="2"&&w(),e==="3"&&x(),e==="4"&&k(),e==="5"&&E(),e!=="1"&&e!=="2"&&e!=="3"&&e!=="4"&&e!=="5"&&m()})}P();export{P as run};
//# sourceMappingURL=index.js.map